# 网页监控系统 - 快速开始指南

## 🎯 5分钟快速上手

### Windows用户

1. **安装Python**
   - 访问 https://www.python.org/downloads/
   - 下载并安装Python 3.8+
   - 安装时记得勾选"Add Python to PATH"

2. **启动程序**
   ```bash
   # 双击运行
   start.bat
   ```

3. **访问界面**
   - 打开浏览器访问：http://localhost:5000

### Linux用户

```bash
# 一键安装
chmod +x install.sh
./install.sh

# 启动程序
./start.sh
```

## 📱 配置Telegram（发送到群组）

### 1. 创建机器人
- 在Telegram搜索：`@BotFather`
- 发送：`/newbot`
- 按提示操作，获取 **Bot Token**

### 2. 创建群组并获取Chat ID

**方法1：使用API获取（推荐）**
1. 创建一个Telegram群组
2. 将你的机器人添加到群组
3. 在群组中 @你的机器人 发送任意消息
4. 浏览器访问：`https://api.telegram.org/bot你的BOT_TOKEN/getUpdates`
5. 在JSON中找到 `"chat":{"id":-1001234567890}`
6. 复制这个**负数ID**（包括负号）

**方法2：使用机器人获取**
1. 搜索并启动 `@getidsbot` 或 `@RawDataBot`
2. 将机器人添加到你的群组
3. 它会显示群组的Chat ID

**重要提示：**
- ✅ 群组Chat ID是**负数**（例如：-1001234567890）
- ✅ 个人Chat ID是**正数**（例如：123456789）
- ✅ 机器人必须有发送消息权限

### 3. 保存配置
- 在Web界面点击"Telegram配置"
- 填入Bot Token和Chat ID（**包括负号**）
- 点击"测试连接"

## 🔍 添加监控（3步）

1. **添加网址**
   - 点击"监控列表" → "添加监控网址"
   - 输入网址，例如：`https://example.com`

2. **添加关键词**
   - 点击"关键词管理" → "添加关键词"
   - 选择网址，输入关键词，例如："促销"

3. **启动监控**
   - 点击顶部"启动监控"按钮
   - 完成！系统会自动监控并通知

## 💡 使用技巧

### 关键词匹配

- **模糊匹配**（推荐）：包含关键词即可
  - 例如："促销" 会匹配 "限时促销"、"促销活动"
  
- **精确匹配**：完整单词匹配
  - 例如："sale" 只匹配 "sale"，不匹配 "sales"

### 检查间隔

- **默认**：300秒（5分钟）
- **建议**：根据网站更新频率调整
  - 新闻网站：300-600秒
  - 电商网站：600-1800秒
  - 公告页面：1800-3600秒

### 多关键词

可以为同一个网址添加多个关键词：
- 关键词1：促销
- 关键词2：优惠
- 关键词3：折扣

任意一个关键词出现都会收到通知。

## 🚨 注意事项

1. **首次运行**
   - 首次启动会自动下载浏览器（约100MB）
   - 请耐心等待安装完成

2. **检查间隔**
   - 不要设置过短的间隔（建议≥60秒）
   - 避免给目标网站造成压力

3. **网络要求**
   - 确保能访问目标网站
   - Telegram通知需要能访问api.telegram.org

4. **系统资源**
   - 每个监控任务会启动一个浏览器实例
   - 建议同时监控≤10个网址

## 📊 查看日志

在Web界面点击"监控日志"查看：
- ✅ 绿色：检测到关键词
- ℹ️ 蓝色：未检测到关键词
- ❌ 红色：访问失败

## 🔧 常见问题

### 收不到Telegram通知？

1. 确认Bot Token和Chat ID正确
2. 向机器人发送 `/start` 激活
3. 点击"测试连接"验证

### 监控不运行？

1. 确认已点击"启动监控"
2. 确认网址处于"启用"状态
3. 确认已添加关键词
4. 点击"立即执行"手动测试

### 无法访问某些网站？

1. 检查网址是否正确
2. 检查网络连接
3. 某些网站可能需要登录
4. 某些网站反爬虫机制很强，可能无法绕过

## 🎓 进阶使用

### 使用systemd服务（Linux）

```bash
# 安装时选择创建服务
sudo systemctl start web-monitor
sudo systemctl enable web-monitor
sudo systemctl status web-monitor
```

### 修改端口

编辑 `.env` 文件：
```
FLASK_PORT=8080
```

### 查看详细日志

```bash
# 查看日志文件
tail -f monitor.log
```

## 📞 获取帮助

遇到问题？
1. 查看 `monitor.log` 日志文件
2. 查看完整的 `README.md`
3. 提交Issue

---

**祝使用愉快！** 🎉

